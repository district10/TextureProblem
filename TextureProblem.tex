% !Mode:: "TeX:UTF-8"
%!TEX program  = xelatex

\documentclass[bwprint]{cumcmthesis}    % \documentclass{cumcmthesis}
\graphicspath{{images/}{diagrams/}}                % 图片文件路径

\title{任务车间调度问题解析}
\tihao{A}
\baominghao{4321}
\schoolname{武汉大学}
\membera{MMTZX} % name will be replaced with “2015...1234 张三”（学号姓名）in makefile
\memberb{MMTJG}
\memberc{MMZY}
\supervisor{Prof. YAO}
\yearinput{2016}
\monthinput{05}
\dayinput{25}
\begin{document}
\maketitle
\begin{abstract}

摘要。。。

\keywords{花纹\quad  关键字\quad   其他关键字}
\end{abstract}

\section{问题重述}
\subsection{引言}

我特么没有理解，到底有几台机器，只有三台？金戈你快审题然后分析分析。

某墙纸生产厂接到三种类型墙纸的订单（订单的量（比例）？），第一种墙纸在蓝色背景
上有黄色图案，第二种墙纸在绿色背景上有蓝色和黄色图案，第三种墙纸在黄色背景上有
蓝色和绿色图案。在生产时，每种墙纸都是一个连续的纸卷，且将要通过三台机器，每台
机器向墙纸上印刷不同的颜色。墙纸通过机器的顺序取决于墙纸的设计，对于第一种墙纸，
先印刷蓝色背景，再印刷黄色图案；对于第二种墙纸，首先印刷绿色背景，然后先印刷蓝
色图案，再印刷黄色图案；对于第三种墙纸，首先印刷黄色背景，然后先印刷蓝色图案，
再印刷绿色图案。每一个工序的处理时间取决于需要向墙纸上印刷的对象。

\subsection{问题的提出}
\section{模型的假设}
\begin{itemize}
\item 每种机器的放置位置和颜色的配置固定；
\item 纸袋在机器之间的移动时间忽略不计；
\item 纸袋的后期分类时间忽略不计；
\item shit。
\end{itemize}

\section{符号说明}
\begin{tabular}{cc}
 \hline
 \makebox[0.4\textwidth][c]{符号}   &  \makebox[0.5\textwidth][c]{意义} \\ \hline
i       & 可以取 1..n \\ \hline
$X_i$       & 第 i 段墙纸，值可以是 1，2，3 \\ \hline
\end{tabular}
\section{问题分析}
\subsection{问题一分析}
订单的数目是不清楚的，假设三种墙纸的印刷量分别是 t1, t2, t3；总量是 n = t1+t2+t3；
用 $X_i$ 表示第 i 个墙纸，取值可以是 1，2，3，代表这份墙纸的类型。
问题转化为：序列 {$X_i$} 如何排列能够使得通过机器并完成打印的时间最短。
三种颜色的机器的排列有 6 种组合方式。

$t1 = \sum_{i=1}^{n}{I(X_i=1)}$

$t2 = \sum_{i=1}^{n}{I(X_i=2)}$

$t3 = \sum_{i=1}^{n}{I(X_i=3)}$

其中 I 是 indicator 函数，满足 I(true)=1, I(false)=0；

\subsection{问题二分析}

如果把蓝色机器放在第一个位置，那所有的墙纸都有很长的等待时间，显然不合理。但具体的话……
再分析吧……

\subsection{问题三分析}

假设时间序列 i..m，$S_{ij}$ 表示 i 的图案在 j 时刻的状态，可能的取值有 0（待处理）1（1 号机器正在处理）,2,3，-1（处理完成）。

如果直接枚举 6 种机器的排列方式，对于每一种固定的机器排列方式，序列通过三台机器。
算法流程是（假设序列一次进过 m1,m2,m3 三台机器）；

以 X

对于任何一个时间点 t，如果 m3 处的任务没有完成，处理 m3 的任务（这个任务处理完了，
当前的图案应该会完成所有的印刷），同时处理 m1，m2 处可能的印刷任务。
如果 m3 处的任务完成了，但是 m1，m2 处有未完成的任务，也等待；
如何让在所有时间点 的等待时间之和最短？

设 $D_t$ 为在 t 时刻的等待时间。这个时间由三台机器需要的处理时间决定。
比如 m1（假设绿）,m2（假设蓝）,m3（假设黄） 处的纸袋分别为 1，2，3；
需要满足的条件应该是 m3 处的图案 3 已经完成了 m1,m2 处的印刷任务；
m2 处的图案 2 已经完成了 m1 的印刷任务（即已经花了十分钟印刷绿色）。

那，我们优化的问题变成了，怎么让

问题三流程图：
%\begin{figure}[!h]
%\centering
%\includegraphics[width=\textwidth]{1.png}
%\caption{问题三流程图}
%\end{figure}
%\begin{thebibliography}{9}
% \bibitem{bib:one} ....
% \bibitem{bib:two} ....
%\end{thebibliography}
\appendix

\section{源程序}

\begin{lstlisting}{language=cpp}
printf
\end{lstlisting}


\begin{figure}
\centering
\includegraphics[width=0.8\textwidth]{markov1.pdf}
\caption{站点的空间临近查询}
\label{sitetarget}
\end{figure}

\end{document}
